{"ast":null,"code":"import * as actionTypes from './actionTypes';\nimport axios from '../../axios-projects';\nexport var setFeaturedProjects = function setFeaturedProjects(projects) {\n  return {\n    type: actionTypes.SET_FEATURED_PROJECTS,\n    projects: projects\n  };\n};\nexport var fetchFeaturedProjectsFailed = function fetchFeaturedProjectsFailed() {\n  return {\n    type: actionTypes.FETCH_FEATURED_PROJECTS_FAILED\n  };\n};\nexport var initFeaturedProjects = function initFeaturedProjects() {\n  return function (dispatch) {\n    axios.get('FeaturedProjects.json').then(function (res) {\n      var featuredProjectTitles = res.data;\n      var projectRequests = featuredProjectTitles.map(function (projectTitle) {\n        return axios.get('Projects/' + projectTitle + '.json');\n      });\n      Promise.all(projectRequests).then(function (res) {\n        console.log('all responses');\n        console.log(res);\n        var featuredProjects = [];\n        res.forEach(function (item) {\n          featuredProjects.push(item.data);\n        });\n        console.log('featuredProjects');\n        console.log(featuredProjects);\n        dispatch(setFeaturedProjects(featuredProjects));\n      });\n    }).catch(function () {\n      console.log('error');\n      dispatch(initFeaturedProjects());\n    });\n  };\n};","map":{"version":3,"sources":["H:\\Stuff\\Code Workspaces\\ReactJS Workspace\\utsc-project\\src\\store\\actions\\featuredProjects.js"],"names":["actionTypes","axios","setFeaturedProjects","projects","type","SET_FEATURED_PROJECTS","fetchFeaturedProjectsFailed","FETCH_FEATURED_PROJECTS_FAILED","initFeaturedProjects","dispatch","get","then","res","featuredProjectTitles","data","projectRequests","map","projectTitle","Promise","all","console","log","featuredProjects","forEach","item","push","catch"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,eAA7B;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AAEA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,QAAD,EAAc;AAC/C,SAAO;AACLC,IAAAA,IAAI,EAAEJ,WAAW,CAACK,qBADb;AAELF,IAAAA,QAAQ,EAAEA;AAFL,GAAP;AAID,CALM;AAOP,OAAO,IAAMG,2BAA2B,GAAG,SAA9BA,2BAA8B,GAAM;AAC/C,SAAO;AACLF,IAAAA,IAAI,EAAEJ,WAAW,CAACO;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AACxC,SAAO,UAACC,QAAD,EAAc;AACnBR,IAAAA,KAAK,CAACS,GAAN,CAAU,uBAAV,EACGC,IADH,CACQ,UAACC,GAAD,EAAS;AACb,UAAIC,qBAAqB,GAAGD,GAAG,CAACE,IAAhC;AAEA,UAAIC,eAAe,GAAGF,qBAAqB,CAACG,GAAtB,CAA0B,UAACC,YAAD,EAAkB;AAChE,eAAOhB,KAAK,CAACS,GAAN,CAAU,cAAcO,YAAd,GAA6B,OAAvC,CAAP;AACD,OAFqB,CAAtB;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,eAAZ,EACGJ,IADH,CACQ,UAACC,GAAD,EAAS;AACbQ,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AAEA,YAAIU,gBAAgB,GAAG,EAAvB;AACAV,QAAAA,GAAG,CAACW,OAAJ,CAAY,UAACC,IAAD,EAAU;AACpBF,UAAAA,gBAAgB,CAACG,IAAjB,CAAsBD,IAAI,CAACV,IAA3B;AACD,SAFD;AAGAM,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYC,gBAAZ;AACAb,QAAAA,QAAQ,CAACP,mBAAmB,CAACoB,gBAAD,CAApB,CAAR;AACD,OAZH;AAaD,KApBH,EAqBGI,KArBH,CAqBS,YAAM;AACXN,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAZ,MAAAA,QAAQ,CAACD,oBAAoB,EAArB,CAAR;AACD,KAxBH;AAyBD,GA1BD;AA2BD,CA5BM","sourcesContent":["import * as actionTypes from './actionTypes';\r\nimport axios from '../../axios-projects';\r\n\r\nexport const setFeaturedProjects = (projects) => {\r\n  return {\r\n    type: actionTypes.SET_FEATURED_PROJECTS,\r\n    projects: projects\r\n  }\r\n}\r\n\r\nexport const fetchFeaturedProjectsFailed = () => {\r\n  return {\r\n    type: actionTypes.FETCH_FEATURED_PROJECTS_FAILED\r\n  }\r\n}\r\n\r\nexport const initFeaturedProjects = () => {\r\n  return (dispatch) => {\r\n    axios.get('FeaturedProjects.json')\r\n      .then((res) => {\r\n        let featuredProjectTitles = res.data;\r\n\r\n        let projectRequests = featuredProjectTitles.map((projectTitle) => {\r\n          return axios.get('Projects/' + projectTitle + '.json')\r\n        });\r\n        Promise.all(projectRequests)\r\n          .then((res) => {\r\n            console.log('all responses')\r\n            console.log(res)\r\n\r\n            let featuredProjects = [];\r\n            res.forEach((item) => {\r\n              featuredProjects.push(item.data);\r\n            })\r\n            console.log('featuredProjects')\r\n            console.log(featuredProjects)\r\n            dispatch(setFeaturedProjects(featuredProjects));\r\n          })\r\n      })\r\n      .catch(() => {\r\n        console.log('error')\r\n        dispatch(initFeaturedProjects());\r\n      });\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}