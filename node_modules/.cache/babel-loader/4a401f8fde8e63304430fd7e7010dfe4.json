{"ast":null,"code":"import _defineProperty from \"H:\\\\Stuff\\\\Code Workspaces\\\\ReactJS Workspace\\\\utsc-project2\\\\utsc-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"H:\\\\Stuff\\\\Code Workspaces\\\\ReactJS Workspace\\\\utsc-project2\\\\utsc-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"H:\\\\Stuff\\\\Code Workspaces\\\\ReactJS Workspace\\\\utsc-project2\\\\utsc-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"H:\\\\Stuff\\\\Code Workspaces\\\\ReactJS Workspace\\\\utsc-project2\\\\utsc-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"H:\\\\Stuff\\\\Code Workspaces\\\\ReactJS Workspace\\\\utsc-project2\\\\utsc-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"H:\\\\Stuff\\\\Code Workspaces\\\\ReactJS Workspace\\\\utsc-project2\\\\utsc-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"H:\\\\Stuff\\\\Code Workspaces\\\\ReactJS Workspace\\\\utsc-project2\\\\utsc-project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"H:\\\\Stuff\\\\Code Workspaces\\\\ReactJS Workspace\\\\utsc-project2\\\\utsc-project\\\\src\\\\components\\\\ProjectAdd\\\\ProjectAdd.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport styles from './ProjectAdd.module.css';\nimport * as projectActions from '../../store/actions/addProject';\nimport firebase from \"firebase\";\n\nvar ProjectAdd =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProjectAdd, _Component);\n\n  function ProjectAdd(props) {\n    var _this;\n\n    _classCallCheck(this, ProjectAdd);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProjectAdd).call(this, props));\n\n    _this.fileUploadHandler = function () {\n      _this.state.imgPaths = _this.state.imgPaths.concat(_this.state.imgPath1);\n      _this.state.imgPaths = _this.state.imgPaths.concat(_this.state.imgPath2);\n      _this.state.imgPaths = _this.state.imgPaths.concat(_this.state.imgPath3);\n      _this.state.imgPaths = _this.state.imgPaths.concat(_this.state.imgPath4); // Create a root reference\n\n      var storageRef = firebase.storage().ref();\n      var ref, file;\n\n      for (var i = 1; i <= 4; i++) {\n        if (_this.state.imgPaths[i - 1] != \"\") {\n          console.log(_this.state.imgPaths[i - 1]); // Create a reference to 'mountains.jpg'\n\n          file = _this.state.imgPaths[i - 1];\n          ref = storageRef.child(_this.state.title + '/img' + i + '.jpg');\n          ref.put(file).then(function (snapshot) {\n            console.log('Uploaded a blob or file!');\n          });\n        }\n      }\n    };\n\n    _this.state = {\n      title: '',\n      description: '',\n      characters: '',\n      img1: null,\n      img2: null,\n      img3: null,\n      img4: null,\n      imgs: [],\n      imgPath1: \"\",\n      imgPath2: \"\",\n      imgPath3: \"\",\n      imgPath4: \"\",\n      imgPaths: [],\n      authUserEmail: ''\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.imagePreview1 = _this.imagePreview1.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.imagePreview2 = _this.imagePreview2.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.imagePreview3 = _this.imagePreview3.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.imagePreview4 = _this.imagePreview4.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.config = _this.config.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.fileUploadHandler = _this.fileUploadHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ProjectAdd, [{\n    key: \"onChange\",\n    value: function onChange(e) {\n      var _this$setState,\n          _this2 = this;\n\n      console.log(e.target.value);\n      this.setState((_this$setState = {}, _defineProperty(_this$setState, e.target.name, e.target.value), _defineProperty(_this$setState, \"characters\", e.target.value.length), _this$setState), function () {\n        _this2.props.projectAdd(_this2.state.title, _this2.state.description);\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      e.preventDefault();\n      this.fileUploadHandler();\n      this.state.imgs = this.state.imgs.concat(this.state.img1);\n      this.state.imgs = this.state.imgs.concat(this.state.img2);\n      this.state.imgs = this.state.imgs.concat(this.state.img3);\n      this.state.imgs = this.state.imgs.concat(this.state.img4);\n      console.log(this.state.imgs);\n      console.log(\"authUserEmail:\" + this.props.authUserEmail);\n      this.props.onInitProjectAdd(this.state.title, this.state.description, this.state.imgs, this.props.authUserEmail);\n    }\n  }, {\n    key: \"imagePreview1\",\n    value: function imagePreview1(event) {\n      console.log(\"received\");\n      this.setState({\n        img1: URL.createObjectURL(event.target.files[0]),\n        imgPath1: event.target.files[0]\n      });\n    }\n  }, {\n    key: \"imagePreview2\",\n    value: function imagePreview2(event) {\n      console.log(\"received\");\n      this.setState({\n        img2: URL.createObjectURL(event.target.files[0]),\n        imgPath2: event.target.files[0]\n      });\n    }\n  }, {\n    key: \"imagePreview3\",\n    value: function imagePreview3(event) {\n      console.log(\"received\");\n      this.setState({\n        img3: URL.createObjectURL(event.target.files[0]),\n        imgPath3: event.target.files[0]\n      });\n    }\n  }, {\n    key: \"imagePreview4\",\n    value: function imagePreview4(event) {\n      console.log(\"received\");\n      this.setState({\n        img4: URL.createObjectURL(event.target.files[0]),\n        imgPath4: event.target.files[0]\n      });\n    }\n  }, {\n    key: \"config\",\n    value: function config(event) {\n      var firebaseConfig = {\n        apiKey: \"AIzaSyDICnZMnrvISneUWxo-WfyjCbRj5CMuC2Y\",\n        authDomain: \"utsc-projects.firebaseapp.com\",\n        databaseURL: \"https://utsc-projects.firebaseio.com\",\n        projectId: \"utsc-projects\",\n        storageBucket: \"utsc-projects.appspot.com\",\n        messagingSenderId: \"109791671007\",\n        appId: \"1:109791671007:web:23cdd1c32c44ea59bd6f6a\"\n      };\n\n      if (!firebase.apps.length) {\n        firebase.initializeApp(firebaseConfig);\n      }\n\n      console.log(\"FIREBASE CONFIG\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log('mapStateToProps', this.props.title, this.props.description);\n      return React.createElement(\"div\", {\n        className: styles.Content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: styles.TitleImgs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, this.config(), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Project Name\",\n        onChange: this.onChange,\n        value: this.state.title,\n        maxLength: \"25\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: styles.imgSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: styles.containerSmall,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: styles.imgItem,\n        src: this.state.img1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        className: styles.imgItem,\n        accept: \"image/*\",\n        onChange: this.imagePreview1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: styles.containerSmall,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: styles.imgItem,\n        src: this.state.img2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        className: styles.imgItem,\n        accept: \"image/*\",\n        onChange: this.imagePreview2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: styles.containerSmall,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: styles.imgItem,\n        src: this.state.img3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        className: styles.imgItem,\n        accept: \"image/*\",\n        onChange: this.imagePreview3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: styles.containerSmall,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: styles.imgItem,\n        src: this.state.img4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        className: styles.imgItem,\n        accept: \"image/*\",\n        onChange: this.imagePreview4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }))))), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        id: \"message\",\n        className: styles.Description,\n        maxLength: \"800\",\n        type: \"text\",\n        name: \"description\",\n        placeholder: \"Enter a description for your project and describe any open positions.\",\n        onChange: this.onChange,\n        value: this.state.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Characters Remaining: \", 800 - this.state.characters)), React.createElement(\"button\", {\n        className: styles.ViewProject,\n        onClick: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Add Project\"));\n    }\n  }]);\n\n  return ProjectAdd;\n}(Component);\n\nwindow.onbeforeunload = function () {\n  return true;\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authUserEmail: state.authReducer.email,\n    title: state.projectAddReducer.title,\n    description: state.projectAddReducer.description,\n    imgs: state.projectAddReducer.imgs\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    projectAdd: function projectAdd(title, description, imgs) {\n      return dispatch(projectActions.projectAdd(title, description, imgs));\n    },\n    onInitProjectAdd: function onInitProjectAdd(title, description, imgs, authUserEmail) {\n      return dispatch(projectActions.initProjectAdd(title, description, imgs, authUserEmail));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectAdd);","map":{"version":3,"sources":["H:\\Stuff\\Code Workspaces\\ReactJS Workspace\\utsc-project2\\utsc-project\\src\\components\\ProjectAdd\\ProjectAdd.js"],"names":["React","Component","connect","styles","projectActions","firebase","ProjectAdd","props","fileUploadHandler","state","imgPaths","concat","imgPath1","imgPath2","imgPath3","imgPath4","storageRef","storage","ref","file","i","console","log","child","title","put","then","snapshot","description","characters","img1","img2","img3","img4","imgs","authUserEmail","onChange","bind","onSubmit","imagePreview1","imagePreview2","imagePreview3","imagePreview4","config","e","target","value","setState","name","length","projectAdd","preventDefault","onInitProjectAdd","event","URL","createObjectURL","files","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","apps","initializeApp","Content","TitleImgs","imgSelect","containerSmall","imgItem","Description","ViewProject","window","onbeforeunload","mapStateToProps","authReducer","email","projectAddReducer","mapDispatchToProps","dispatch","initProjectAdd"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAO,KAAKC,cAAZ,MAAgC,gCAAhC;AACA,OAAOC,QAAP,MAAqB,UAArB;;IAEMC,U;;;;;AAEJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;;AADiB,UA6FnBC,iBA7FmB,GA6FC,YAAM;AACxB,YAAKC,KAAL,CAAWC,QAAX,GAAsB,MAAKD,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2B,MAAKF,KAAL,CAAWG,QAAtC,CAAtB;AACA,YAAKH,KAAL,CAAWC,QAAX,GAAsB,MAAKD,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2B,MAAKF,KAAL,CAAWI,QAAtC,CAAtB;AACA,YAAKJ,KAAL,CAAWC,QAAX,GAAsB,MAAKD,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2B,MAAKF,KAAL,CAAWK,QAAtC,CAAtB;AACA,YAAKL,KAAL,CAAWC,QAAX,GAAsB,MAAKD,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA2B,MAAKF,KAAL,CAAWM,QAAtC,CAAtB,CAJwB,CAKxB;;AACA,UAAIC,UAAU,GAAGX,QAAQ,CAACY,OAAT,GAAmBC,GAAnB,EAAjB;AAEA,UAAIA,GAAJ,EAASC,IAAT;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,YAAI,MAAKX,KAAL,CAAWC,QAAX,CAAoBU,CAAC,GAAG,CAAxB,KAA8B,EAAlC,EAAsC;AACpCC,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAKb,KAAL,CAAWC,QAAX,CAAoBU,CAAC,GAAG,CAAxB,CAAZ,EADoC,CAEpC;;AACAD,UAAAA,IAAI,GAAG,MAAKV,KAAL,CAAWC,QAAX,CAAoBU,CAAC,GAAG,CAAxB,CAAP;AACAF,UAAAA,GAAG,GAAGF,UAAU,CAACO,KAAX,CAAiB,MAAKd,KAAL,CAAWe,KAAX,GAAmB,MAAnB,GAA4BJ,CAA5B,GAAgC,MAAjD,CAAN;AAEAF,UAAAA,GAAG,CAACO,GAAJ,CAAQN,IAAR,EAAcO,IAAd,CAAmB,UAAUC,QAAV,EAAoB;AACrCN,YAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACD,WAFD;AAGD;AACF;AAEF,KAnHkB;;AAEjB,UAAKb,KAAL,GAAa;AACXe,MAAAA,KAAK,EAAE,EADI;AAEXI,MAAAA,WAAW,EAAE,EAFF;AAGXC,MAAAA,UAAU,EAAE,EAHD;AAIXC,MAAAA,IAAI,EAAE,IAJK;AAICC,MAAAA,IAAI,EAAE,IAJP;AAIaC,MAAAA,IAAI,EAAE,IAJnB;AAIyBC,MAAAA,IAAI,EAAE,IAJ/B;AAKXC,MAAAA,IAAI,EAAE,EALK;AAMXtB,MAAAA,QAAQ,EAAE,EANC;AAMGC,MAAAA,QAAQ,EAAE,EANb;AAMiBC,MAAAA,QAAQ,EAAE,EAN3B;AAM+BC,MAAAA,QAAQ,EAAE,EANzC;AAOXL,MAAAA,QAAQ,EAAE,EAPC;AAQXyB,MAAAA,aAAa,EAAE;AARJ,KAAb;AAUA,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,uDAAhB;AACA,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcD,IAAd,uDAAhB;AACA,UAAKE,aAAL,GAAqB,MAAKA,aAAL,CAAmBF,IAAnB,uDAArB;AACA,UAAKG,aAAL,GAAqB,MAAKA,aAAL,CAAmBH,IAAnB,uDAArB;AACA,UAAKI,aAAL,GAAqB,MAAKA,aAAL,CAAmBJ,IAAnB,uDAArB;AACA,UAAKK,aAAL,GAAqB,MAAKA,aAAL,CAAmBL,IAAnB,uDAArB;AACA,UAAKM,MAAL,GAAc,MAAKA,MAAL,CAAYN,IAAZ,uDAAd;AACA,UAAK7B,iBAAL,GAAyB,MAAKA,iBAAL,CAAuB6B,IAAvB,uDAAzB;AAnBiB;AAsBlB;;;;6BAEQO,C,EAAG;AAAA;AAAA;;AACVvB,MAAAA,OAAO,CAACC,GAAR,CAAYsB,CAAC,CAACC,MAAF,CAASC,KAArB;AAEA,WAAKC,QAAL,uDAAiBH,CAAC,CAACC,MAAF,CAASG,IAA1B,EAAiCJ,CAAC,CAACC,MAAF,CAASC,KAA1C,iDAA6DF,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeG,MAA5E,oBAAsF,YAAM;AAC1F,QAAA,MAAI,CAAC1C,KAAL,CAAW2C,UAAX,CAAsB,MAAI,CAACzC,KAAL,CAAWe,KAAjC,EAAwC,MAAI,CAACf,KAAL,CAAWmB,WAAnD;AAED,OAHD;AAID;;;6BAEQgB,C,EAAG;AACVA,MAAAA,CAAC,CAACO,cAAF;AACA,WAAK3C,iBAAL;AACA,WAAKC,KAAL,CAAWyB,IAAX,GAAkB,KAAKzB,KAAL,CAAWyB,IAAX,CAAgBvB,MAAhB,CAAuB,KAAKF,KAAL,CAAWqB,IAAlC,CAAlB;AACA,WAAKrB,KAAL,CAAWyB,IAAX,GAAkB,KAAKzB,KAAL,CAAWyB,IAAX,CAAgBvB,MAAhB,CAAuB,KAAKF,KAAL,CAAWsB,IAAlC,CAAlB;AACA,WAAKtB,KAAL,CAAWyB,IAAX,GAAkB,KAAKzB,KAAL,CAAWyB,IAAX,CAAgBvB,MAAhB,CAAuB,KAAKF,KAAL,CAAWuB,IAAlC,CAAlB;AACA,WAAKvB,KAAL,CAAWyB,IAAX,GAAkB,KAAKzB,KAAL,CAAWyB,IAAX,CAAgBvB,MAAhB,CAAuB,KAAKF,KAAL,CAAWwB,IAAlC,CAAlB;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWyB,IAAvB;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmB,KAAKf,KAAL,CAAW4B,aAA1C;AAEA,WAAK5B,KAAL,CAAW6C,gBAAX,CAA4B,KAAK3C,KAAL,CAAWe,KAAvC,EAA8C,KAAKf,KAAL,CAAWmB,WAAzD,EAAsE,KAAKnB,KAAL,CAAWyB,IAAjF,EAAuF,KAAK3B,KAAL,CAAW4B,aAAlG;AACD;;;kCAEakB,K,EAAO;AACnBhC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,WAAKyB,QAAL,CAAc;AACZjB,QAAAA,IAAI,EAAEwB,GAAG,CAACC,eAAJ,CAAoBF,KAAK,CAACR,MAAN,CAAaW,KAAb,CAAmB,CAAnB,CAApB,CADM;AAEZ5C,QAAAA,QAAQ,EAAEyC,KAAK,CAACR,MAAN,CAAaW,KAAb,CAAmB,CAAnB;AAFE,OAAd;AAKD;;;kCACaH,K,EAAO;AACnBhC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,WAAKyB,QAAL,CAAc;AACZhB,QAAAA,IAAI,EAAEuB,GAAG,CAACC,eAAJ,CAAoBF,KAAK,CAACR,MAAN,CAAaW,KAAb,CAAmB,CAAnB,CAApB,CADM;AAEZ3C,QAAAA,QAAQ,EAAEwC,KAAK,CAACR,MAAN,CAAaW,KAAb,CAAmB,CAAnB;AAFE,OAAd;AAID;;;kCACaH,K,EAAO;AACnBhC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,WAAKyB,QAAL,CAAc;AACZf,QAAAA,IAAI,EAAEsB,GAAG,CAACC,eAAJ,CAAoBF,KAAK,CAACR,MAAN,CAAaW,KAAb,CAAmB,CAAnB,CAApB,CADM;AAEZ1C,QAAAA,QAAQ,EAAEuC,KAAK,CAACR,MAAN,CAAaW,KAAb,CAAmB,CAAnB;AAFE,OAAd;AAID;;;kCACaH,K,EAAO;AACnBhC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,WAAKyB,QAAL,CAAc;AACZd,QAAAA,IAAI,EAAEqB,GAAG,CAACC,eAAJ,CAAoBF,KAAK,CAACR,MAAN,CAAaW,KAAb,CAAmB,CAAnB,CAApB,CADM;AAEZzC,QAAAA,QAAQ,EAAEsC,KAAK,CAACR,MAAN,CAAaW,KAAb,CAAmB,CAAnB;AAFE,OAAd;AAID;;;2BAEMH,K,EAAO;AAEZ,UAAII,cAAc,GAAG;AACnBC,QAAAA,MAAM,EAAE,yCADW;AAEnBC,QAAAA,UAAU,EAAE,+BAFO;AAGnBC,QAAAA,WAAW,EAAE,sCAHM;AAInBC,QAAAA,SAAS,EAAE,eAJQ;AAKnBC,QAAAA,aAAa,EAAE,2BALI;AAMnBC,QAAAA,iBAAiB,EAAE,cANA;AAOnBC,QAAAA,KAAK,EAAE;AAPY,OAArB;;AASA,UAAI,CAAC3D,QAAQ,CAAC4D,IAAT,CAAchB,MAAnB,EAA2B;AACzB5C,QAAAA,QAAQ,CAAC6D,aAAT,CAAuBT,cAAvB;AACD;;AACDpC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACD;;;6BA0BQ;AACPD,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B,KAAKf,KAAL,CAAWiB,KAA1C,EAAiD,KAAKjB,KAAL,CAAWqB,WAA5D;AACA,aACE;AAAK,QAAA,SAAS,EAAEzB,MAAM,CAACgE,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAEhE,MAAM,CAACiE,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKzB,MAAL,EADH,EAGE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAgC,QAAA,WAAW,EAAC,cAA5C;AAA2D,QAAA,QAAQ,EAAE,KAAKP,QAA1E;AACE,QAAA,KAAK,EAAE,KAAK3B,KAAL,CAAWe,KADpB;AAC2B,QAAA,SAAS,EAAC,IADrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAErB,MAAM,CAACkE,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAElE,MAAM,CAACmE,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAEnE,MAAM,CAACoE,OAAvB;AAAgC,QAAA,GAAG,EAAE,KAAK9D,KAAL,CAAWqB,IAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAE3B,MAAM,CAACoE,OAArC;AAA8C,QAAA,MAAM,EAAC,SAArD;AAA+D,QAAA,QAAQ,EAAE,KAAKhC,aAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAKE;AAAK,QAAA,SAAS,EAAEpC,MAAM,CAACmE,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAEnE,MAAM,CAACoE,OAAvB;AAAgC,QAAA,GAAG,EAAE,KAAK9D,KAAL,CAAWsB,IAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAE5B,MAAM,CAACoE,OAArC;AAA8C,QAAA,MAAM,EAAC,SAArD;AAA+D,QAAA,QAAQ,EAAE,KAAK/B,aAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CALF,EASE;AAAK,QAAA,SAAS,EAAErC,MAAM,CAACmE,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAEnE,MAAM,CAACoE,OAAvB;AAAgC,QAAA,GAAG,EAAE,KAAK9D,KAAL,CAAWuB,IAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAE7B,MAAM,CAACoE,OAArC;AAA8C,QAAA,MAAM,EAAC,SAArD;AAA+D,QAAA,QAAQ,EAAE,KAAK9B,aAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CATF,EAaE;AAAK,QAAA,SAAS,EAAEtC,MAAM,CAACmE,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAEnE,MAAM,CAACoE,OAAvB;AAAgC,QAAA,GAAG,EAAE,KAAK9D,KAAL,CAAWwB,IAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAE9B,MAAM,CAACoE,OAArC;AAA8C,QAAA,MAAM,EAAC,SAArD;AAA+D,QAAA,QAAQ,EAAE,KAAK7B,aAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAbF,CADF,CALF,CADF,EA2BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBA3BF,EA6BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAU,QAAA,EAAE,EAAC,SAAb;AAAuB,QAAA,SAAS,EAAEvC,MAAM,CAACqE,WAAzC;AAAsD,QAAA,SAAS,EAAC,KAAhE;AACE,QAAA,IAAI,EAAC,MADP;AACc,QAAA,IAAI,EAAC,aADnB;AACiC,QAAA,WAAW,EAAC,uEAD7C;AACqH,QAAA,QAAQ,EAAE,KAAKpC,QADpI;AAC8I,QAAA,KAAK,EAAE,KAAK3B,KAAL,CAAWmB,WADhK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAA0B,MAAM,KAAKnB,KAAL,CAAWoB,UAA3C,CAHF,CA7BF,EAmCE;AAAQ,QAAA,SAAS,EAAE1B,MAAM,CAACsE,WAA1B;AAAuC,QAAA,OAAO,EAAE,KAAKnC,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAnCF,CADF;AAuCD;;;;EAhKsBrC,S;;AAmKzByE,MAAM,CAACC,cAAP,GAAwB,YAAY;AAClC,SAAO,IAAP;AACD,CAFD;;AAIA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAnE,KAAK,EAAI;AAC/B,SAAO;AACL0B,IAAAA,aAAa,EAAE1B,KAAK,CAACoE,WAAN,CAAkBC,KAD5B;AAELtD,IAAAA,KAAK,EAAEf,KAAK,CAACsE,iBAAN,CAAwBvD,KAF1B;AAGLI,IAAAA,WAAW,EAAEnB,KAAK,CAACsE,iBAAN,CAAwBnD,WAHhC;AAILM,IAAAA,IAAI,EAAEzB,KAAK,CAACsE,iBAAN,CAAwB7C;AAJzB,GAAP;AAMD,CAPD;;AASA,IAAM8C,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACrC,SAAO;AACL/B,IAAAA,UAAU,EAAE,oBAAC1B,KAAD,EAAQI,WAAR,EAAqBM,IAArB;AAAA,aAA8B+C,QAAQ,CAAC7E,cAAc,CAAC8C,UAAf,CAA0B1B,KAA1B,EAAiCI,WAAjC,EAA8CM,IAA9C,CAAD,CAAtC;AAAA,KADP;AAELkB,IAAAA,gBAAgB,EAAE,0BAAC5B,KAAD,EAAQI,WAAR,EAAqBM,IAArB,EAA2BC,aAA3B;AAAA,aAA6C8C,QAAQ,CAAC7E,cAAc,CAAC8E,cAAf,CAA8B1D,KAA9B,EAAqCI,WAArC,EAAkDM,IAAlD,EAAwDC,aAAxD,CAAD,CAArD;AAAA;AAFb,GAAP;AAKD,CAND;;AAQA,eAAejC,OAAO,CAAC0E,eAAD,EAAkBI,kBAAlB,CAAP,CAA6C1E,UAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styles from './ProjectAdd.module.css';\r\nimport * as projectActions from '../../store/actions/addProject';\r\nimport firebase from \"firebase\";\r\n\r\nclass ProjectAdd extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: '',\r\n      description: '',\r\n      characters: '',\r\n      img1: null, img2: null, img3: null, img4: null,\r\n      imgs: [],\r\n      imgPath1: \"\", imgPath2: \"\", imgPath3: \"\", imgPath4: \"\",\r\n      imgPaths: [],\r\n      authUserEmail: ''\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.imagePreview1 = this.imagePreview1.bind(this);\r\n    this.imagePreview2 = this.imagePreview2.bind(this);\r\n    this.imagePreview3 = this.imagePreview3.bind(this);\r\n    this.imagePreview4 = this.imagePreview4.bind(this);\r\n    this.config = this.config.bind(this);\r\n    this.fileUploadHandler = this.fileUploadHandler.bind(this);\r\n\r\n\r\n  };\r\n\r\n  onChange(e) {\r\n    console.log(e.target.value);\r\n\r\n    this.setState({ [e.target.name]: e.target.value, characters: e.target.value.length }, () => {\r\n      this.props.projectAdd(this.state.title, this.state.description);\r\n\r\n    });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    this.fileUploadHandler();\r\n    this.state.imgs = this.state.imgs.concat(this.state.img1);\r\n    this.state.imgs = this.state.imgs.concat(this.state.img2);\r\n    this.state.imgs = this.state.imgs.concat(this.state.img3);\r\n    this.state.imgs = this.state.imgs.concat(this.state.img4);\r\n    console.log(this.state.imgs);\r\n    console.log(\"authUserEmail:\" + this.props.authUserEmail);\r\n\r\n    this.props.onInitProjectAdd(this.state.title, this.state.description, this.state.imgs, this.props.authUserEmail);\r\n  }\r\n\r\n  imagePreview1(event) {\r\n    console.log(\"received\");\r\n    this.setState({\r\n      img1: URL.createObjectURL(event.target.files[0]),\r\n      imgPath1: event.target.files[0]\r\n    });\r\n\r\n  }\r\n  imagePreview2(event) {\r\n    console.log(\"received\");\r\n    this.setState({\r\n      img2: URL.createObjectURL(event.target.files[0]),\r\n      imgPath2: event.target.files[0]\r\n    });\r\n  }\r\n  imagePreview3(event) {\r\n    console.log(\"received\");\r\n    this.setState({\r\n      img3: URL.createObjectURL(event.target.files[0]),\r\n      imgPath3: event.target.files[0]\r\n    });\r\n  }\r\n  imagePreview4(event) {\r\n    console.log(\"received\");\r\n    this.setState({\r\n      img4: URL.createObjectURL(event.target.files[0]),\r\n      imgPath4: event.target.files[0]\r\n    });\r\n  }\r\n\r\n  config(event) {\r\n\r\n    var firebaseConfig = {\r\n      apiKey: \"AIzaSyDICnZMnrvISneUWxo-WfyjCbRj5CMuC2Y\",\r\n      authDomain: \"utsc-projects.firebaseapp.com\",\r\n      databaseURL: \"https://utsc-projects.firebaseio.com\",\r\n      projectId: \"utsc-projects\",\r\n      storageBucket: \"utsc-projects.appspot.com\",\r\n      messagingSenderId: \"109791671007\",\r\n      appId: \"1:109791671007:web:23cdd1c32c44ea59bd6f6a\"\r\n    };\r\n    if (!firebase.apps.length) {\r\n      firebase.initializeApp(firebaseConfig);\r\n    }\r\n    console.log(\"FIREBASE CONFIG\");\r\n  }\r\n\r\n  fileUploadHandler = () => {\r\n    this.state.imgPaths = this.state.imgPaths.concat(this.state.imgPath1);\r\n    this.state.imgPaths = this.state.imgPaths.concat(this.state.imgPath2);\r\n    this.state.imgPaths = this.state.imgPaths.concat(this.state.imgPath3);\r\n    this.state.imgPaths = this.state.imgPaths.concat(this.state.imgPath4);\r\n    // Create a root reference\r\n    var storageRef = firebase.storage().ref();\r\n\r\n    var ref, file;\r\n    for (var i = 1; i <= 4; i++) {\r\n      if (this.state.imgPaths[i - 1] != \"\") {\r\n        console.log(this.state.imgPaths[i - 1]);\r\n        // Create a reference to 'mountains.jpg'\r\n        file = this.state.imgPaths[i - 1];\r\n        ref = storageRef.child(this.state.title + '/img' + i + '.jpg');\r\n\r\n        ref.put(file).then(function (snapshot) {\r\n          console.log('Uploaded a blob or file!');\r\n        });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    console.log('mapStateToProps', this.props.title, this.props.description);\r\n    return (\r\n      <div className={styles.Content} >\r\n        <div className={styles.TitleImgs}>\r\n          {this.config()}\r\n\r\n          <input type=\"text\" name=\"title\" placeholder=\"Project Name\" onChange={this.onChange}\r\n            value={this.state.title} maxLength=\"25\"></input>\r\n          <span>\r\n            <div className={styles.imgSelect}>\r\n              <div className={styles.containerSmall}>\r\n                <img className={styles.imgItem} src={this.state.img1}></img>\r\n                <input type=\"file\" className={styles.imgItem} accept=\"image/*\" onChange={this.imagePreview1}></input>\r\n              </div>\r\n              <div className={styles.containerSmall}>\r\n                <img className={styles.imgItem} src={this.state.img2}></img>\r\n                <input type=\"file\" className={styles.imgItem} accept=\"image/*\" onChange={this.imagePreview2}></input>\r\n              </div>\r\n              <div className={styles.containerSmall}>\r\n                <img className={styles.imgItem} src={this.state.img3}></img>\r\n                <input type=\"file\" className={styles.imgItem} accept=\"image/*\" onChange={this.imagePreview3}></input>\r\n              </div>\r\n              <div className={styles.containerSmall}>\r\n                <img className={styles.imgItem} src={this.state.img4}></img>\r\n                <input type=\"file\" className={styles.imgItem} accept=\"image/*\" onChange={this.imagePreview4}></input>\r\n              </div>\r\n            </div>\r\n          </span>\r\n        </div>\r\n        <h1>Description</h1>\r\n\r\n        <span>\r\n          <textarea id=\"message\" className={styles.Description} maxLength=\"800\"\r\n            type=\"text\" name=\"description\" placeholder=\"Enter a description for your project and describe any open positions.\" onChange={this.onChange} value={this.state.description}></textarea>\r\n          <p>Characters Remaining: {800 - this.state.characters}\r\n          </p>\r\n        </span>\r\n        <button className={styles.ViewProject} onClick={this.onSubmit}>Add Project</button>\r\n      </div >\r\n    )\r\n  }\r\n}\r\n\r\nwindow.onbeforeunload = function () {\r\n  return true;\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    authUserEmail: state.authReducer.email,\r\n    title: state.projectAddReducer.title,\r\n    description: state.projectAddReducer.description,\r\n    imgs: state.projectAddReducer.imgs\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    projectAdd: (title, description, imgs) => dispatch(projectActions.projectAdd(title, description, imgs)),\r\n    onInitProjectAdd: (title, description, imgs, authUserEmail) => dispatch(projectActions.initProjectAdd(title, description, imgs, authUserEmail))\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectAdd);"]},"metadata":{},"sourceType":"module"}